# VideoX БД

Схема базы данных доступна по [ссылке.](https://dbdiagram.io/d/VideoX-66f7ec9c3430cb846ce9a9bb)

## Основные Таблицы:

- [VideoX БД](#videox-бд)
  - [Основные Таблицы:](#основные-таблицы)
  - [Описание таблиц](#описание-таблиц)
    - [videos](#videos)
    - [transcribation](#transcribation)
    - [transcribation\_elements](#transcribation_elements)
    - [object\_detection](#object_detection)
    - [audio\_caption](#audio_caption)
    - [symbols](#symbols)
    - [scenes\_detection](#scenes_detection)
  - [Связи между таблицами](#Связи-между-таблицами)

## Описание таблиц

### videos
Таблица, содержащая информацию о видео.

| Поле                 | Тип данных | Описание                                                |
| -------------------- | ---------- | ------------------------------------------------------- |
| id                   | integer    | Уникальный идентификатор видео (первичный ключ)         |
| name                 | varchar    | Название видео                                          |
| status               | enum       | Статус видео (CREATED, UPLOADED, PROCESSING, PROCESSED) |
| created_at           | timestamp  | Дата и время создания записи                            |
| uploaded_at          | timestamp  | Дата и время загрузки видео                             |
| processed_at         | timestamp  | Дата и время обработки видео                            |
| original_video_path  | varchar    | Путь к оригинальному видео                              |
| processed_video_path | varchar    | Путь к обработанному видео                              |
| original_video_link  | varchar    | Ссылка на оригинальное видео                            |

### transcribation
Таблица, содержащая текстовую транскрипцию видео.

| Поле           | Тип данных | Описание                                           |
| -------------- | ---------- | -------------------------------------------------- |
| video_id       | integer    | Идентификатор видео (первичный ключ, внешний ключ) |
| transcribation | varchar    | Текстовая транскрипция видео                       |

### transcribation_elements
Таблица, содержащая элементы транскрипции, включая временные метки.

| Поле     | Тип данных   | Описание                                           |
| -------- | ------------ | -------------------------------------------------- |
| id       | integer      | Уникальный идентификатор элемента (первичный ключ) |
| video_id | integer      | Идентификатор видео (первичный ключ, внешний ключ) |
| start    | double(1, 2) | Время начала элемента транскрипции                 |
| end      | double(1, 2) | Время окончания элемента транскрипции              |
| word     | varchar      | Слово, соответствующее элементу транскрипции       |

### object_detection
Таблица, содержащая данные о детекции объектов в видео.

| Поле     | Тип данных | Описание                                           |
| -------- | ---------- | -------------------------------------------------- |
| class    | varchar    | Класс объекта (первичный ключ)                     |
| video_id | integer    | Идентификатор видео (первичный ключ, внешний ключ) |
| x1       | integer    | Координата x1 (левый верхний угол)                 |
| y1       | integer    | Координата y1 (левый верхний угол)                 |
| x2       | integer    | Координата x2 (правый нижний угол)                 |
| y2       | integer    | Координата y2 (правый нижний угол)                 |

### audio_caption
Таблица, содержащая аудио транскрипции с временными метками.

| Поле     | Тип данных   | Описание                                               |
| -------- | ------------ | ------------------------------------------------------ |
| id       | integer      | Уникальный идентификатор транскрипции (первичный ключ) |
| video_id | integer      | Идентификатор видео (первичный ключ, внешний ключ)     |
| start    | double(1, 2) | Время начала транскрипции                              |
| end      | double(1, 2) | Время окончания транскрипции                           |
| word     | varchar      | Слово, соответствующее транскрипции                    |

### symbols
Таблица, содержащая данные о символах, обнаруженных в видео.

| Поле     | Тип данных | Описание                                           |
| -------- | ---------- | -------------------------------------------------- |
| id       | integer    | Уникальный идентификатор символа (первичный ключ)  |
| video_id | integer    | Идентификатор видео (первичный ключ, внешний ключ) |
| x1       | integer    | Координата x1 (левый верхний угол)                 |
| y1       | integer    | Координата y1 (левый верхний угол)                 |
| x2       | integer    | Координата x2 (правый нижний угол)                 |
| y2       | integer    | Координата y2 (правый нижний угол)                 |
| class    | varchar    | Класс символа                                      |

### scenes_detection
Таблица, содержащая данные о детекции сцен в видео.

| Поле     | Тип данных   | Описание                                           |
| -------- | ------------ | -------------------------------------------------- |
| id       | integer      | Уникальный идентификатор сцены (первичный ключ)    |
| video_id | integer      | Идентификатор видео (первичный ключ, внешний ключ) |
| scene    | integer      | Номер сцены                                        |
| start    | double(1, 2) | Время начала сцены                                 |
| end      | double(1, 2) | Время окончания сцены                              |
| text     | varchar      | Описание или текст, связанный со сценой            |

## Связи между таблицами

- Таблица `transcribation_elements` ссылается на таблицу `videos` через поле `video_id`.
- Таблица `object_detection` ссылается на таблицу `videos` через поле `video_id`.
- Таблица `transcribation` ссылается на таблицу `videos` через поле `video_id`.
- Таблица `audio_caption` ссылается на таблицу `videos` через поле `video_id`.
- Таблица `symbols` ссылается на таблицу `videos` через поле `video_id`.
- Таблица `scenes_detection` ссылается на таблицу `videos` через поле `video_id`.

